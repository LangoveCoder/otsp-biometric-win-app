<Page x:Class="BiometricSuperAdmin.Views.RegistrationContextView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Set Registration Context"
      Background="#FAFAFA">

    <Grid>
        <Border HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="White"
                Padding="40"
                CornerRadius="8"
                MaxWidth="500">
            <Border.Effect>
                <DropShadowEffect BlurRadius="20" ShadowDepth="3" Opacity="0.3" Color="Gray"/>
            </Border.Effect>

            <StackPanel>
                <!-- Title -->
                <TextBlock Text="ðŸŽ¯ Set Registration Context"
                         FontSize="24"
                         FontWeight="Bold"
                         Foreground="#673AB7"
                         HorizontalAlignment="Center"
                         Margin="0,0,0,20"/>

                <TextBlock Text="Configure which college and test you are registering students for."
                         FontSize="14"
                         Foreground="#666666"
                         TextWrapping="Wrap"
                         HorizontalAlignment="Center"
                         Margin="0,0,0,30"/>

                <!-- College Selection -->
                <TextBlock Text="Select College *"
                         FontWeight="Medium"
                         Margin="0,0,0,8"/>
                <ComboBox x:Name="CollegeComboBox"
                        Height="45"
                        FontSize="14"
                        BorderBrush="#CCCCCC"
                        BorderThickness="1"
                        DisplayMemberPath="Name"
                        SelectionChanged="CollegeComboBox_SelectionChanged"/>

                <!-- Test Selection (Auto-populated based on college) -->
                <TextBlock Text="Test for Selected College *"
                         FontWeight="Medium"
                         Margin="0,20,0,8"/>
                <ComboBox x:Name="TestComboBox"
                        Height="45"
                        FontSize="14"
                        BorderBrush="#CCCCCC"
                        BorderThickness="1"
                        DisplayMemberPath="Name"
                        IsEnabled="False"/>

                <!-- Laptop ID -->
                <TextBlock Text="Laptop ID *"
                         FontWeight="Medium"
                         Margin="0,20,0,8"/>
                <TextBox x:Name="LaptopIdTextBox"
                       Height="45"
                       FontSize="14"
                       Padding="12"
                       BorderBrush="#CCCCCC"
                       BorderThickness="1"
                       VerticalContentAlignment="Center"
                       Text="Laptop-01"/>

                <!-- Info Panel -->
                <Border Background="#E3F2FD"
                      Padding="12"
                      CornerRadius="4"
                      Margin="0,20,0,0"
                      BorderBrush="#2196F3"
                      BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="â„¹ï¸ Important" FontWeight="Bold" Margin="0,0,0,4"/>
                        <TextBlock TextWrapping="Wrap" FontSize="12">
                            All student registrations on this laptop will be saved for the selected college and test.
                        </TextBlock>
                        <TextBlock TextWrapping="Wrap" FontSize="12" Margin="0,4,0,0">
                            Make sure all laptops at the same venue use the same college and test!
                        </TextBlock>
                    </StackPanel>
                </Border>

                <!-- Current Context Display -->
                <Border x:Name="CurrentContextPanel"
                      Background="#F3E5F5"
                      Padding="12"
                      CornerRadius="4"
                      Margin="0,15,0,0"
                      Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="âœ… Current Context:" FontWeight="Bold" Foreground="#673AB7"/>
                        <TextBlock x:Name="CurrentContextText"
                                 TextWrapping="Wrap"
                                 Margin="0,4,0,0"
                                 FontSize="12"/>
                    </StackPanel>
                </Border>

                <!-- Buttons -->
                <StackPanel Orientation="Horizontal"
                          HorizontalAlignment="Center"
                          Margin="0,30,0,0">
                    <Button x:Name="StartButton"
                          Style="{StaticResource PrimaryButton}"
                          Click="StartButton_Click"
                          IsEnabled="False"
                          Width="180"
                          Height="45"
                          FontSize="16"
                          Content="ðŸš€ Start Registration"/>

                    <Button x:Name="ChangeContextButton"
                          Style="{StaticResource SecondaryButton}"
                          Click="ChangeContextButton_Click"
                          Visibility="Collapsed"
                          Width="150"
                          Height="45"
                          Margin="10,0,0,0"
                          Content="Change Context"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Page>
